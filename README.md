# auto.me

## Тестовое задание

В компании предусмотрена возможность выбора служебного автомобиля для служебной поездки из не занятых другими сотрудниками. В административной части корпоративного сайта необходимо будет размещать актуальную информацию о доступных для конкретного сотрудника автомобилях на запланированное время поездки.
Дополнительные условия:
- каждая модель автомобиля имеет определенную категорию комфорта (первая, вторая, третья... );	
- для определенной должности сотрудников доступны только автомобили определенной категории комфорта (одной или нескольких категорий);	
- за каждым автомобилем закреплён свой водитель.
1. Нужно написать миграции для создания необходимого количества таблиц в базе данных, установить связи между ними;
2. Реализовать API метод получения списка доступных текущему пользователю на запланированное время автомобилей с возможностью фильтрации по модели автомобиля, по категории комфорта;


Если в заданиях не хватает каких-то условий, принимать их приближенными к реальности.

## Реализация

Производим миграцию ```php artisan migrate```

Заполняем таблицы данными ```php artisan db:seed```

Роут к API: ```https://auto.me/api/car/free```

Параметры: 
- ```worker``` - id сотрудника из таблицы workers (int). По умолчанию в базе 30 сотрудников, количество можно изменить переменной ```$amount = 30; //кол-во сотрудников``` в DatabaseSeeder.php до запуска наполнения.
- ```dt``` - дата и время запланированной поездки формат ```2024-08-15 06:32:00``` (str). Если дата не задана, берется текущяя дата и время.
- ```comfort``` - id категория комфорта авто из таблицы comfort (int), от 1 до 5
- ```model``` - id модели авто из таблицы cars (int), от 1 до 5

Пример: https://auto.me/api/car/free?worker=5&comfort=3&model=3

Пустой результат возвращается, если:
- не задан __worker__ - сотрудник, для которого ищется авто
- нет подходящих авто
- в правилах (таблица rule_use_cars) не прописаны авто для этого сотрудника (например уборщица не может использовать авто)

Можно выводить сообщения для каждого случая, но в задаче этого небыло.

## Таблицы
- ```comforts``` - таблица категорий комфорта авто
- ```positions``` - таблица должностей
- ```drivers``` - таблица водителей
- ```cars``` - таблица автомобилей
- ```workers``` - таблица сотрудников
- ```rule_use_cars``` - таблица правил пользования авто (прописано какие авто, какому сотруднику разрешено использовать)
- ```timings``` - таблица содержащая записи уже запланированных поездок для разных авто
